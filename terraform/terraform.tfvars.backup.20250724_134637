# terraform.tfvars.example
# ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦terraform.tfvarsã¨ã—ã¦ä½¿ç”¨ã—ã¦ãã ã•ã„
# terraform.tfvarsã¯.gitignoreã«è¿½åŠ ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™

# =============================================================================
# ğŸš€ ç°¡å˜ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆæ¨å¥¨ï¼‰
# =============================================================================
# è‡ªå‹•è¨­å®šã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ:
#   make setup-tfvars
# ã“ã®ã‚³ãƒãƒ³ãƒ‰ãŒãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‹ã‚‰å¿…è¦ãªå€¤ã‚’è‡ªå‹•å–å¾—ã—ã¦è¨­å®šã—ã¾ã™

# =============================================================================
# å¿…é ˆè¨­å®šé …ç›® - ä»¥ä¸‹ã®å€¤ã¯å¿…ãšè¨­å®šãŒå¿…è¦ã§ã™
# =============================================================================

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API URLï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨é€šä¿¡ã™ã‚‹ãŸã‚ã®URLï¼‰
# ğŸ“ è‡ªå‹•å–å¾—: make setup-tfvars
# ğŸ“ æ‰‹å‹•å–å¾—: cd ../mutual_backend/terraform && terraform output -raw api_endpoint_alb
# ğŸ“ CloudFrontä½¿ç”¨æ™‚: cd ../mutual_backend/terraform && terraform output -raw cloudfront_domain_name
api_base_url = "https://doxlbf2dw75re.cloudfront.net"  # è‡ªå‹•è¨­å®šã§ç½®æ›ã•ã‚Œã¾ã™

# VPC IDï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨åŒã˜VPCã‚’ä½¿ç”¨ï¼‰
# ğŸ“ è‡ªå‹•å–å¾—: make setup-tfvars  
# ğŸ“ æ‰‹å‹•å–å¾—: cd ../mutual_backend/terraform && terraform output -raw vpc_id
# ğŸ“ è¤‡æ•°VPCç’°å¢ƒ: aws ec2 describe-vpcs --filters "Name=tag:Name,Values=mutual-app-vpc" --query 'Vpcs[0].VpcId' --output text
vpc_id = "vpc-0ede4833285bdeb8c"  # è‡ªå‹•è¨­å®šã§ç½®æ›ã•ã‚Œã¾ã™

# =============================================================================
# ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¨­å®šé …ç›®ï¼ˆå¿…è¦ã«å¿œã˜ã¦å¤‰æ›´ï¼‰
# =============================================================================

# ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š
# domain_name = "example.com"  # ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ãŒã‚ã‚‹å ´åˆã¯è¨­å®š
domain_name = ""  # ç©ºæ–‡å­—ã®å ´åˆã¯CloudFrontã®è‡ªå‹•ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ç”¨ï¼ˆç„¡æ–™ï¼‰

# åŸºæœ¬è¨­å®š
region = "ap-northeast-1"
project_name = "mutual-app"  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨çµ±ä¸€ã—ã¦ãã ã•ã„
environment = "production"

# Auth0è¨­å®šï¼ˆé–‹ç™ºç’°å¢ƒç”¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ï¼‰
auth0_issuer_base_url = "https://dev-ldw81lf4gyh8azw6.jp.auth0.com/"
auth0_domain = "dev-ldw81lf4gyh8azw6.jp.auth0.com"
auth0_client_id = "Y5p4Fn2rllKLs4M2zoIShqIhn4JdKZzP"
auth0_audience = "https://api.local.dev"

# ECSè¨­å®š
use_existing_ecs_cluster = true      # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨å…±æœ‰ã™ã‚‹å ´åˆã¯true
existing_ecs_cluster_name = "mutual-app-cluster"  # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å

# =============================================================================
# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
# =============================================================================

# IPã‚¢ãƒ‰ãƒ¬ã‚¹åˆ¶é™ï¼ˆCIDRå½¢å¼ï¼‰
# allowed_ip_addresses = ["203.0.113.0/24", "198.51.100.0/24"]
allowed_ip_addresses = []  # ç©ºã®å ´åˆã¯å…¨IPã‚’è¨±å¯

# åœ°ç†çš„åˆ¶é™
enable_waf_geo_restriction = false
waf_blocked_countries = ["CN", "RU", "KP"]  # ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹å›½ã‚³ãƒ¼ãƒ‰

# =============================================================================
# ğŸ“‹ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
# =============================================================================
# 1. ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’terraform.tfvarsã«ã‚³ãƒ”ãƒ¼:
#    cp terraform.tfvars.example terraform.tfvars
#
# 2. è‡ªå‹•è¨­å®šã‚’å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰:
#    make setup-tfvars
#
# 3. ã¾ãŸã¯æ‰‹å‹•ã§å¿…é ˆé …ç›®ã‚’è¨­å®š:
#    - api_base_url: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®URL
#    - vpc_id: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨åŒã˜VPC ID
#
# 4. ã‚¤ãƒ³ãƒ•ãƒ©ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤:
#    make tf-apply
#
# 5. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤:
#    make deploy
#
# =============================================================================
# ğŸ“ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
# =============================================================================
# âŒ "api_base_url must be specified" ã‚¨ãƒ©ãƒ¼:
#    â†’ make setup-tfvars ã‚’å®Ÿè¡Œã™ã‚‹ã‹ã€æ‰‹å‹•ã§api_base_urlã‚’è¨­å®š
#
# âŒ "Multiple VPCs found" ã‚¨ãƒ©ãƒ¼:  
#    â†’ vpc_idã‚’æ˜ç¤ºçš„ã«è¨­å®šã—ã¦ãã ã•ã„
#
# âŒ WAFé‡è¤‡ã‚¨ãƒ©ãƒ¼:
#    â†’ ãƒªã‚½ãƒ¼ã‚¹åã¯è‡ªå‹•çš„ã«ãƒ©ãƒ³ãƒ€ãƒ IDãŒä»˜ä¸ã•ã‚Œã‚‹ãŸã‚è§£æ±ºæ¸ˆã¿
#
# âŒ æ¨©é™ã‚¨ãƒ©ãƒ¼:
#    â†’ AWS_PROFILE=admin ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª 